<div class="component-floating-actions">
  <button mat-fab color="primary" aria-label="New model" matTooltip="New model" 
          routerLink="/model/add" class="floating-btn-pulse">
    <mat-icon>add</mat-icon>
  </button>
</div>

<div class="content">
  <div class="inner-content">
    <div fxFlex="column">
      
      <!-- Search Section -->
      <div class="search-section">
        <mat-form-field appearance="outline" class="search-field">
          <mat-icon matPrefix>search</mat-icon>
          <input matInput [(ngModel)]="filterKeywords" 
                 (keydown.enter)="getPaginated()"
                 placeholder="Search models...">
        </mat-form-field>
      </div>

      <!-- Content Area -->
      <ng-container *ngIf="!isLoading; else loadingState">
        <ng-container *ngIf="dataSource.data?.length > 0; else emptyState">
          <div fxLayout="row wrap" class="enhanced-card-view">

            <div class="card-holder" fxFlex="50%" fxFlex.gt-xs="33.33%" fxFlex.gt-sm="25%" 
                 fxFlex.gt-md="20%" fxFlex.gt-lg="16.66%" *ngFor="let item of dataSource.data">
              
              <mat-card class="enhanced-card">
                
                <!-- Unit Badge -->
                <div class="unit-badge" *ngIf="item.unitCount > 0">
                  {{ item.unitCount }} units
                </div>

                <!-- Image Section -->
                <div class="enhanced-image">
                  <img class="card-img" src="{{item.thumbnailUrl}}" 
                       (error)="pictureErrorHandler($event)" 
                       alt="{{ item.modelName }}" />
                </div>

                <!-- Header Section -->
                <div class="enhanced-header">
                  <h3 class="model-name">{{ item.modelName }}</h3>
                  <p class="model-desc">{{ item.description }}</p>
                </div>

                <!-- Stats Section -->
                <div class="enhanced-content">
                  <div class="stats-container">
                    <div class="stat-item">
                      <mat-icon class="stat-icon">category</mat-icon>
                      <span>{{ item.category || 'General' }}</span>
                    </div>
                    <div class="stat-item">
                      <mat-icon class="stat-icon">calendar_today</mat-icon>
                      <span>Updated</span>
                    </div>
                  </div>
                </div>

                <!-- Actions Section -->
                <div class="enhanced-actions">
                  <button mat-raised-button color="primary" class="action-btn" 
                          routerLink="/model/{{item.modelId}}">
                    View Details
                  </button>
                </div>
                
              </mat-card>
            </div>

          </div>
        </ng-container>
      </ng-container>

      <!-- Loading State -->
      <ng-template #loadingState>
        <div fxLayout="row wrap" class="enhanced-card-view">
          <div class="card-holder" fxFlex="50%" fxFlex.gt-xs="33.33%" fxFlex.gt-sm="25%" 
               fxFlex.gt-md="20%" fxFlex.gt-lg="16.66%" *ngFor="let item of [1,2,3,4,5,6]">
            <mat-card class="skeleton-card">
              <div class="skeleton-image"></div>
              <div class="skeleton-title"></div>
              <div class="skeleton-text"></div>
            </mat-card>
          </div>
        </div>
      </ng-template>

      <!-- Empty State -->
      <ng-template #emptyState>
        <div class="empty-state">
          <mat-icon class="empty-icon">inventory_2</mat-icon>
          <h3 class="empty-title">No Models Found</h3>
          <p class="empty-description">
            Get started by creating your first model.
          </p>
          <button mat-raised-button color="primary" routerLink="/model/add">
            Create New Model
          </button>
        </div>
      </ng-template>

      <!-- Pagination -->
      <mat-paginator [length]="total" [pageSizeOptions]="[12, 24, 48]" 
                     [pageSize]="pageSize" (page)="onPageChange($event)"
                     style="margin-top: 24px;">
      </mat-paginator>

    </div>
  </div>
</div>