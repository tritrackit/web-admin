<div class="content">
  <div class="inner-content">
    <!-- Search Container -->
    <div class="search-container">
      <mat-form-field appearance="outline" class="search-field">
        <button mat-icon-button matPrefix (click)="onSearch()">
          <mat-icon>search</mat-icon>
        </button>
        <input matInput placeholder="Search Location" [(ngModel)]="searchTerm" (keyup.enter)="onSearch()">
      </mat-form-field>
      <button mat-raised-button class="search-btn" (click)="onSearch()" type="button">
        Search
      </button>
    </div>

    <!-- Info Card -->
    <mat-card class="info-card">
      <mat-card-content>
        <div class="info-content" 
             fxLayout="row" 
             fxLayout.xs="column"
             fxLayout.sm="row"
             fxLayoutAlign="start center"
             fxLayoutAlign.xs="start start"
             fxLayoutAlign.sm="start center"
             fxLayoutGap="8px"
             fxLayoutGap.xs="8px"
             fxLayoutGap.sm="8px">
          <mat-icon color="primary" class="info-icon" fxHide.xs="false" fxHide.sm="false">info</mat-icon>
          <span class="info-text">
            <span fxHide.xs="true" fxHide.sm="true">Locations are fixed: </span>
            <span fxHide.gt-xs="true">Fixed locations: </span>
            <strong>Open Area, Warehouse 4, Warehouse 5, Delivered</strong>. 
            <span fxHide.xs="true" fxHide.sm="true">They cannot be created, updated, or deleted.</span>
            <span fxHide.gt-xs="true">Cannot be modified.</span>
          </span>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card [ngClass]="{ 'hidden': isLoading }" class="table-card">
      <mat-card-content>
        <div class="mobile-table" fxHide.gt-xs="true">
          <!-- Mobile View -->
          <div class="mobile-item" *ngFor="let location of dataSource?.data">
            <div class="mobile-row">
              <span class="mobile-label">Code:</span>
              <span class="mobile-value">{{ location.locationCode }}</span>
            </div>
            <div class="mobile-row">
              <span class="mobile-label">Name:</span>
              <span class="mobile-value">{{ location.name }}</span>
            </div>
            <mat-divider></mat-divider>
          </div>
          
          <div class="mobile-pagination" *ngIf="dataSource?.data?.length">
            <button mat-icon-button [disabled]="pageIndex === 0" (click)="pageChange({pageIndex: pageIndex - 1, pageSize: pageSize})">
              <mat-icon>chevron_left</mat-icon>
            </button>
            <span class="page-info">Page {{ pageIndex + 1 }} of {{ totalPages }}</span>
            <button mat-icon-button [disabled]="pageIndex >= totalPages - 1" (click)="pageChange({pageIndex: pageIndex + 1, pageSize: pageSize})">
              <mat-icon>chevron_right</mat-icon>
            </button>
          </div>
          
          <div class="no-data" *ngIf="!dataSource?.data?.length && !isLoading">
            <mat-icon>search_off</mat-icon>
            <span>No locations found</span>
          </div>
        </div>

        <!-- Desktop View -->
        <div class="desktop-table" fxHide.xs="true">
          <app-data-table
            [isLoading]="isLoading"
            [dataSource]="dataSource"
            [columnDefs]="appConfig.config.tableColumns.locations"
            [total]="total"
            [pageIndex]="pageIndex"
            [pageSize]="pageSize"
            (pageChange)="pageChange($event)"
            (sortChange)="sortChange($event)"
            (filterChange)="filterChange($event)">
          </app-data-table>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>